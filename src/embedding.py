class EmbeddingGenerator:
    def __init__(self, model, tokenizer, device="cpu"):
        self.model = model
        self.tokenizer = tokenizer
        self.device = device

    def enhanced_four_layer_embedding(self, code: str):
        # Implement the 4-layer approach from previous discussion
        pass